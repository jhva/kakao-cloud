# 쿠버네티스 (kubernetes)
> it 환경의 진화 
- 2000년대 초반에 가상화 환경으로 전환 
- 호스트 운영체제에 가상화 계층을 두고 그 위에 여러개의 x86 게스트 운영체제를 올려 사용하는 방식 
  - 비지니스 변화에 민첩하게 대응하고 비용 절감이 이유 
  - 인프라를 확장할때 scale out 방식을 사용하고 메인 프레임은 scale up 방식으로 확장 
  - scale out 은 서버대수를 늘리는 방식이고 scale up 은 CPU나 메모리를 추가 
  - scale out 방식을 사용하게 되면 기존 서버에 영향을 주지 않으면서 간편하게 확장이 가능 
  - 2010년대에는 public cloud 가 등장 
    - 내부에 시스템을 구축할경우 (온 프레미스) 빠른 변화에 대응할려면 많은 시간이 필요 
    - 이미 구축된 외부의 서버를 빌려서 필요할 때만 사용하는 형태의 클라우드가 주목바등ㅁ 
  - public cloud 분류 
    - lass (Infrastructure as a service)
      - 인프라만 클라우드 벤터의 장비를 빌려서 사용 
    - PasS(Platform as a service)
      - 개발 환경까지 클라우드 벤더가 제공하고 유지 관리 
    - SaaS(Software as a Service) 
      - 서비스 영역까지 클라우드 벤더가 제공하고 유지 관리 
### 직접구축 
>네트워킹 , 스토리지 ,서버 , 가상화 ,운영체제 미들웨어 ,런타임 , 데이터 ,어플리케이션 
- laaS
  - 운영체제 , 미들웨어 ,런타임, 데이터, 어플리케이션 
- PaaS 
  - 데이터 , 애플리케이션 
- SaaS 

- 현재는 컨테이너 기반으로 변화


### 컨테이너 
> 데스크톱, 기존의 it환경 또는 클라우드 등 어디서나 어플리케이션 및 서비스를 실행하는데 필요한 모든 요소를 포함하는 소프트웨어 패키지 
- 운영체제를 논리적인 구획(컨테이너)으로 나누고 애플리케이션을 격리된 환경에서 실행할 수 있다. 
- 일반적인 가상화의 경우는 하이퍼바이저 (하나의 컴퓨터를 여러대로 분할해서 사용할 수 있도록 해주는 소프트웨어)위에 
가상 머신을 올려서 사용하는데 컨테이너 환경에서는 하이퍼바이버 대신에 도커같은 컨테이너 런타임 위에 컨테이너를 올려 사용 

### 일반적인 가상화 
- 하드웨어 <-> 호스트 OS<-> 가상화(하이퍼바이저) <-> 가상머신 <-> 운영체제 <-> Bin/Binary
### 컨테이너 환경 
- 하드웨어 <-> 호스트 OS <-> 컨테이너 런타임(도커) <-> 컨테이너 <-> Bin/Binary

- 일반적인 가상화 환경은 하드웨어 수준에서 가상화되지만 컨테이너는 운영체제 수준에서 가상화 
- 컨테이너는 운영체제의 커널을 공유하기 때문에 가볍고 유연하게 운영할 수 있다.
- 컨테이너가 가상화 환경에 비해서 리소스 소모가 적음 
- 운영체제를 공유하기 때문에 패치 및 업데이트 같은 유지 관리와 관련된 오버헤드가 줄어듬 

### 컨테이너를 생성하고 실행할 수 있도록 도와주는 것이 Container Runtime 

### Container Runtime 의 종류 
> 쿠버네티스에서는 2020년 부터 containerd 지원하겠다고 발표함 
- containerd 
  - 도커 사에서 개발한 오픈 소스 런타임 
  - 컨테이너 이미지를 내려받고 압축을 풀고 컨테이너를 실행하고 감독하는 컨테이너 전체 수명 주기를 관리하는 기능을 제공 
- docker containered
  - 위에 설치되는 데몬 
- CRI-O 
  - 레드햇 , 인텔 ,수세(Suse),Hyper,IBM 등의 관리자 및 커뮤니티를 중심으로 개발된 오픈소스 런타임

### 컨테이너 오케스트레이션 툴 
> 컨테이너를 효과적으로 관리하도록 도와주는 것을 컨테이너 오케스트레이션이라고 한다 
- 여러 시스템에 컨테이너를 분산해서 배치하거나 문제가 생긴 컨테이너를 교체하는 등 여러 역할을 수행 
  - 이러한 툴로 kubernetes(구글에서 개발한 오케스트레이션 툴로 기능이 가장 많고 가상화 및 퍼블릭 클라우드 등 다양한 환경에서 작동),docker swarm(도커가 설치된 여러대의 서버를 클러스터로 묶어 단일 환경으로 사용할 수 있는 툴 ), apache mesos 등이 있다 .