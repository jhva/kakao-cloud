<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    

    <style></style>

</head>

<body>
    <div id="display"></div>
    <div id="body"></div>
</body>
<script>
    window.addEventListener("load", (e) => {
        document.getElementById("display").innerHTML = "display"


        window.addEventListener("scroll", (e) => {
            
            //스크롤하는 위ㅏ치 와 문서의 높이가 같을때 
            // 가장 아래에서 스크롤을 할 때 

            //스크롤 가장 상단의 높이 가져오기 ㅌ
            var supportPageOffset = window.pageXOffset !== undefined;
            var isCSS1Compat = ((document.compatMode || "") === "CSS1Compat");
            var scrollTop = supportPageOffset ? window.pageYOffset : isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop;

            // 스크롤하는 높이 
            var scrollHeight = scrollTop + window.innerHeight;
            //문서 높이
            var documentHeight = document.body.clientHeight;

            //스크롤 하는 위치가 문서의 높이보다 크거나 같다면 
            if (scrollHeight >= documentHeight) {
                for (let i = 0; i < 20; i++) {
                    document.getElementById("body").innerHTML += "<h1>무한스크롤</h1>";
                }
            }
        })
    })
</script>

</html>